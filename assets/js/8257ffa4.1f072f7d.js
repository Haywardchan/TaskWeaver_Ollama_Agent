"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6608],{5130:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var t=n(5893),a=n(1151);const o={},r="Application",i={id:"concepts/app",title:"Application",description:"The TaskWeaverApp is the main class of the TaskWeaver library. It is the entry point for the library and is used to create and run tasks.",source:"@site/docs/concepts/app.md",sourceDirName:"concepts",slug:"/concepts/app",permalink:"/TaskWeaver/docs/concepts/app",draft:!1,unlisted:!1,editUrl:"https://github.com/microsoft/TaskWeaver/tree/main/website/docs/concepts/app.md",tags:[],version:"current",frontMatter:{},sidebar:"documentSidebar",previous:{title:"Concepts",permalink:"/TaskWeaver/docs/concepts"},next:{title:"Project",permalink:"/TaskWeaver/docs/concepts/project"}},c={},p=[];function d(e){const s={a:"a",code:"code",h1:"h1",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"application",children:"Application"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"TaskWeaverApp"})," is the main class of the TaskWeaver library. It is the entry point for the library and is used to create and run tasks.\nA ",(0,t.jsx)(s.code,{children:"TaskWeaverApp"})," instance is created by calling the ",(0,t.jsx)(s.code,{children:"TaskWeaverApp.__init__"})," constructor."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:'class TaskWeaverApp(object):\n    def __init__(\n        self,\n        app_dir: Optional[str] = None,\n        use_local_uri: Optional[bool] = None,\n        config: Optional[Dict[str, Any]] = None,\n        **kwargs: Any,\n    ) -> None:\n        """\n        Initialize the TaskWeaver app.\n        :param app_dir: The project directory.\n        :param use_local_uri: Whether to use local URI for artifacts.\n        :param config: The configuration.\n        :param kwargs: The additional arguments.\n        """\n'})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"app_dir"})," parameter is the path to the ",(0,t.jsx)(s.a,{href:"/TaskWeaver/docs/concepts/project",children:"project"})," directory.\nThe ",(0,t.jsx)(s.code,{children:"use_local_uri"})," parameter is a boolean that specifies whether to use local URIs for artifacts.\nIf the artifacts are stored locally, the ",(0,t.jsx)(s.code,{children:"use_local_uri"})," parameter should be set to ",(0,t.jsx)(s.code,{children:"True"}),".\nThis is useful if TaskWeaver is being used as a remote service and the artifacts are then remote URIs.\nThe ",(0,t.jsx)(s.code,{children:"config"})," parameter is a dictionary that contains the configuration settings for the app.\nAny settings in the ",(0,t.jsx)(s.code,{children:"config"})," parameter will override existing settings in the configuration file or environment variables."]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"TaskWeaverApp"})," class has the following methods:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:'def get_session(\n    self,\n    session_id: Optional[str] = None,\n) -> Session:\n    """\n    Get the session. Return a new session if the session ID is not provided.\n    :param session_id: The session ID.\n    :return: The session.\n    """\n'})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"get_session"})," method is used to get a session. If the ",(0,t.jsx)(s.code,{children:"session_id"})," parameter is not provided, a new session is created.\nA session is a conversation instance that the user has with the TaskWeaver app.\nWe shall discuss the ",(0,t.jsx)(s.code,{children:"Session"})," class ",(0,t.jsx)(s.a,{href:"/TaskWeaver/docs/concepts/session",children:"later"}),"."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:'def stop(self) -> None:\n    """\n    Stop the TaskWeaver app. This function must be called before the app exits.\n    """\n'})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"stop"})," method is used to stop the TaskWeaver app. This method must be called before the app exits."]}),"\n",(0,t.jsxs)(s.p,{children:["An example of creating a ",(0,t.jsx)(s.code,{children:"TaskWeaverApp"})," instance is shown below:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:'from taskweaver.app.app import TaskWeaverApp\n\napp = TaskWeaverApp(app_dir="path/to/project/")\nsession = app.get_session()\nround = session.send_message("Hello, how can I help you?")\n\nprint(round)\napp.stop()\n'})}),"\n",(0,t.jsxs)(s.p,{children:["In this example, a ",(0,t.jsx)(s.code,{children:"TaskWeaverApp"})," instance is created with the project directory set to ",(0,t.jsx)(s.code,{children:'"path/to/project/"'}),".\nA session is then created using the ",(0,t.jsx)(s.code,{children:"get_session"})," method, and a message is sent to the session.\nThe response will be the entire conversation ",(0,t.jsx)(s.a,{href:"/TaskWeaver/docs/concepts/round",children:"round"})," that was generated by the TaskWeaver app.\nFinally, the ",(0,t.jsx)(s.code,{children:"stop"})," method is called to stop the TaskWeaver app."]})]})}function h(e={}){const{wrapper:s}={...(0,a.a)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},1151:(e,s,n)=>{n.d(s,{Z:()=>i,a:()=>r});var t=n(7294);const a={},o=t.createContext(a);function r(e){const s=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(o.Provider,{value:s},e.children)}}}]);